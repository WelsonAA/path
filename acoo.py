import cv2
import numpy as np
from matplotlib import pyplot as plt
import math

import random


givenPoints = np.array ( 
    [[-171.60,4.00,0.00],
[-206.40,4.20,0.00],
[-255.90,0.20,0.00],
[-272.10,-43.90,0.00],
[-205.50,-95.00,0.00],
[-185.50,-142.40,0.00],
[-152.10,-155.00,0.00],
[-101.40,-154.70,0.00],
[-42.80,-117.20,0.00],
[-39.80,-56.80,0.00],#10
[-40.90,-17.10,0.00],
[3.00,-5.70,0.00],
[47.80,-5.80,0.00],
[89.00,-5.50,0.00],
[45.90,-84.90,0.00],#15
[35.30,19.30,0.00],
[36.30,71.20,0.00],
[41.60,155.10,0.00],
[74.00,185.20,0.00],
[148.10,170.30,0.00],#20
[189.20,52.80,0.00],
[174.40,-148.00,0.00],
[10.20,-187.90,0.00],
[-145.80,-190.90,8.60],
[-222.60,35.10,10.00],#25
[-119.40,186.60,10.00],
[84.70,148.10,0.00],
[151.10,116.20,0.00],
[151.40,32.20,0.00],
[124.70,6.90,0.00],#30
[96.20,-28.60,0.00],
[-9.50,-88.30,0.00],
[-83.20,-87.70,0.00],
[-124.30,-42.40,0.00],
[-118.80,31.10,0.00],#35
[-124.40,102.30,0.00],
[-80.20,136.30,0.00],
[-16.70,87.93,0.00],
[25.70,65.40,0.00],
[24.60,-30.70,0.00]
])
edges = np.array([[1,104], 
[104, 2],
[85,1],
[82,85],
[71,82],
[81,71],
[195,41],
[41,81],
[45,195],
[46,45],
[50,46],
[30,50],
[154,30],
[53,55],
[55,58],
[58,38],
[38,62],
[62,65],
[65,120],
[120,123],
[123,113],
[113,115],
[115,175],
[143,15],
[15,136],
[136,32],
[32,76],
[76,79],
[79,33],
[33,92],
[92,95],
[95,101],
[101,102],
[102,173],
[179, 191],
[191, 190],
[190, 181],
[22, 202],
[202, 23],
[23, 24],
[24, 185],
[204,128],
[128, 124],
[124, 198],
[193, 168], 
[168, 166],
[166, 194],
[151, 149],
[27,161],
[159, 27],
[28, 159],
[155,28],
[161,18],
[18, 172],
[2,177],
[199, 125],
[125, 129],
[129, 37],
[176,116],
[116,114],
[114,122],
[122, 121],
[121, 66],
[66, 61],
[61, 60],
[60, 59],
[59, 54],
[54, 52],
[178,105],
[105, 106],
[106, 84],
[84, 83],
[83, 72],
[72, 80],
[80, 12],
[12,196],
[196, 13],
[13, 14],
[14, 49],
[49,153],
[174,5],
[5, 103],
[103, 100],
[100,94],
[94, 93],
[93, 78],
[78, 77],
[77, 137],
[137,138],
[138, 144],
[6,7],
[7, 167],
[167, 169],
[169, 8],
[8, 9],
[150 ,152],
[180,26],
[26, 189],
[189, 192],
[192, 19],
[19, 20],
[186,182],
[182,184],
[184,203],
[203, 183],
[189,187],
[125,126],
[122,119],
[66,67],
[59,39],
[116,111],
[105,170],
[84,89],
[72,73],
[196,43],
[14,31],
[153,156],
[103,132],
[94,96],
[78,134],
[137,141],
[113, 109], 
[120, 117],
[62,64],
[55,57],
[1,108],
[177,207],
[82,87],
[81,69],
[45,16],
[50,48],
[173,197],
[101,130],
[92,91],
[76,75],
[15,139],
[168,98],
[149,148],
[202,201],
[164,160],
[160,158],
[197, 206],
[206, 3],
[3, 207],
[207,176],
[175, 208],
[208, 205],
[205,4],
[4,174],
[206,178],
[185, 25],
[25, 180],
[181, 186],
[109, 199],
[198,110],
[108,112],
[111,107],
[107,170],
[170, 131],
[131,132],
[132, 6],
[194,133],
[133,130],
[110, 115],
[107, 104],
[131, 102],
[133, 100],
[171, 106],
[112,114],
[130, 171],
[171, 108],
[112, 109],
[98, 97],
[97, 91],
[97, 93],
[91, 88],
[126, 36],
[36, 123],
[36, 119],
[119, 86],
[86, 85],
[86, 89],
[89, 34],
[34, 90],
[90, 95],
[90, 96],
[96, 99],
[99, 166],
[88, 83],
[88, 87],
[87, 35],
[35, 118],
[118, 121],
[118, 117],
[117, 127],
[127, 129],
[9,135],
[135, 77],
[135, 75],
[75, 10],
[10, 11],
[11, 80],
[11, 69],
[69, 68],
[68, 61],
[68, 64],
[64, 204],
[37, 63],
[63, 65],
[63, 67],
[67, 70],
[70, 71],
[70, 73],
[73, 74],
[74, 79],
[74, 134],
[134,193],
[187,162],
[162, 163],
[163, 165],
[165, 56],
[56, 58],
[56, 39],
[39, 42],
[42, 195],
[42, 43],
[43, 40],
[40, 140],
[140, 136],
[140, 141],
[141, 145],
[145, 147],
[147, 200],
[200, 23],
[201,146],
[146, 150],
[146, 148],
[148, 142],
[142, 138],
[142, 139],
[139, 44],
[44, 13],
[44,16],
[16, 17],
[17, 54],
[17, 57],
[57, 164],
[164, 18],
[18, 172],
[172, 188],
[188, 192],
[144,49],
[49, 48],
[48, 53],
[52,47],
[47, 46],
[47,31],
[31, 143],
[156,151],
[152,157],
[157,155],
[158, 29],
[110, 111],
[29, 154],
[29, 156],
[20,21],
[21,22],
[183, 179],
[191, 192],
[189, 190],
[202, 203],
[184, 23],


[112,115],
[116, 109],
[110, 114], 
[113, 111],

[171, 104],
[105, 108],
[1, 170],
[107, 106],


[133, 102],
[103,130],
[101,132],
[131,100],

[36,121],
[120,119],
[118,123],
[122,117],

[86, 83],
[82, 89],
[88, 85],
[84, 87],

[97, 95],
[94,91],
[90, 93],
[92, 96],

[62, 67],
[66, 64],
[68, 65],
[63, 61],

[70, 80],
[81, 73],
[72, 69],
[11, 71],

[59, 57],
[55, 39],
[17, 58],
[56, 54],




[135,79],
[78, 75],
[74, 77],
[76, 134],


[142, 136],
[140, 138],
[137, 139],
[15, 141],




[196, 16],
[45, 43],
[44, 195],
[42, 13],

[49, 46],
[47, 49],
[50, 31],
[14, 48],


[128, 126],
[127, 124],


[162, 160],
[161, 163],

[149, 147],
[145, 150],

[99, 169],
[167, 98],

[153, 155],
[157, 154],

[200, 203],
[184, 201],


[191, 187],
[188, 190],

[208, 178],
[177, 205],
])





intersections = np.load("intersections.npy")

36, 13, 27, 15, 23, 25, 34,  2,  4,  8, 11, 12, 16 ,18, 20
toggle = {
    "36" : 117,
    "117" :36,


    "13" :45 ,
    "45" :13 ,


    "27" : 160,
    "160" :27 ,



    "15" : 138,
    "138" :15 ,



    "23" : 184,
    "184" :23 ,



    "25" : 186,
    "186" :25 ,



    "34" : 91,
    "91" :34 ,



    "2" : 105,
    "105" :2 ,



    "4" : 197,
    "197" :4 ,



    "8" : 168,
    "168" :8 ,


    "11" : 73,
    "73" :11 ,

    "12" : 81,
    "81" :12 ,



    "16" : 42,
    "42" :16 ,


    "18" :162 ,
    "162" :18 ,

    "20" : 179,
    "179" :20 ,
    

}
#np.save("v5.npy",np.array(intersections))